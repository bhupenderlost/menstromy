<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Login</title>
</head>
<body>


    <center>
        <button onclick="signInWithGoogle()">
            LOGIN WITH GOOGLE
        </button>
        <button onclick="signInWithFacebook()">
            LOGIN WITH FACEBOOK
        </button>
        <button onclick="showToken()">
            Show Token
        </button>
        <p>TOKEN: </p><p id="token"></p>
    </center>
      

  <script src="https://www.gstatic.com/firebasejs/9.0.0-beta.6/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0-beta.6/firebase-analytics-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0-beta.6/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0-beta.6/firebase-firestore-compat.js"></script>
    <script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyBno8Fv3FMmkhy_ugAmESaWqE-x-lBE7n8",
        authDomain: "menstromy.firebaseapp.com",
        projectId: "menstromy",
        storageBucket: "menstromy.appspot.com",
        messagingSenderId: "94917679254",
        appId: "1:94917679254:web:2304c14c4159153cc40ab7"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    var google = new firebase.auth.GoogleAuthProvider();
    var facebook = new firebase.auth.FacebookAuthProvider();

    const signInWithGoogle = () => {

        firebase.auth()
        .signInWithPopup(google)
        .then((result) => {
            /** @type {firebase.auth.OAuthCredential} */
            var credential = result.credential;
            var token = credential.accessToken;
            var user = result.user;
            console.log(result)
            
            // ...
        }).catch((error) => {
            var errorCode = error.code;
            var errorMessage = error.message;
            var email = error.email;
            var credential = error.credential;
        });

    }
    const showToken = () => {
        firebase.auth().currentUser.getIdToken().then((idToken) => {
            console.log(idToken)
            document.getElementById('token').innerText = idToken
        }).catch(function(error) {
            console.log(error)
        });
    }
    const signInWithFacebook = () => {

        firebase.auth()
            .signInWithPopup(facebook)
            .then((result) => {
                /** @type {firebase.auth.OAuthCredential} */
                var credential = result.credential;
                var token = credential.accessToken;
                var user = result.user;
                // ...
            }).catch((error) => {
                var errorCode = error.code;
                var errorMessage = error.message;
                var email = error.email;
                var credential = error.credential;
            });

        }
    </script>
</body>
</html>